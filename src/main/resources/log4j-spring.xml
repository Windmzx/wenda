<?xml version="1.0" encoding="UTF-8"?>
<!-- Configuration后面的status，这个用于设置log4j2自身内部的信息输出，可以不设置，当设置成trace时， 你会看到log4j2内部各种详细输出。可以设置成OFF(关闭)或Error(只输出错误信息) -->
<Configuration status="OFF">
    <Appenders>
        <!-- 输出控制台日志的配置 -->
        <Console name="console" target="SYSTEM_OUT">
            <!--控制台只输出level及以上级别的信息（onMatch），其他的直接拒绝（onMismatch） -->
            <ThresholdFilter level="DEBUG" onMatch="ACCEPT" onMismatch="DENY" />
            <!-- 输出日志的格式 -->
            <PatternLayout
                    pattern="%d{yyyy-MM-dd HH:mm:ss SSS} [%t] %-5level %logger{36} %marker - %msg%n" />
        </Console>

        <Flume name="flumeAppender" compress="false" type="Embedded">
            <MarkerFilter marker="flume" onMatch="ACCEPT" onMismatch="DENY"/>
            <PatternLayout charset="UTF-8" pattern="%d{yyyy-MM-dd HH:mm:ss SSS} [%t] %-5level %logger{36} %marker - %msg%n"/>
            <Property name="channel.type">memory</Property>
            <Property name="channel.capacity">200</Property>
            <Property name="sinks">agent1</Property>
            <Property name="agent1.type">avro</Property>
            <Property name="agent1.hostname">127.0.0.1</Property>
            <Property name="agent1.port">44444</Property>
            <Property name="agent1.batch-size">100</Property>
            <Property name="processor.type">failover</Property>
        </Flume>

        <Async name="async">
            <AppenderRef ref="flumeAppender"/>
        </Async>

    </Appenders>
    <Loggers>
        <Logger name="com.start" level="trace" additivity="true">
            <AppenderRef ref="async" />
        </Logger>
        <Root level="debug">
            <AppenderRef ref="console" />
        </Root>
    </Loggers>
</Configuration>